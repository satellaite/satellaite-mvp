# Project Setup and Usage

This project is a multi-service application including two PostgreSQL databases, an API service, and a UI service. All services are orchestrated using Docker Compose.

## Prerequisites

- **Docker** (latest version recommended)
- **Docker Compose** (latest version recommended)

## Environment Configuration

Before running the project, you must configure environment variables:

1. Copy the provided `.env.example` file to `.env` in the project root:
   ```bash
   cp .env.example .env
   ```
2. Edit the `.env` file and provide values for the following variables:

   - `OPENAI_API_KEY`: Your OpenAI API key (required for ai features; see [AI Usage Disclaimer](#ai-usage-disclaimer))
   - `DEMO_DB_USER`: Username for the demo-db PostgreSQL instance
   - `DEMO_DB_PASSWORD`: Password for the demo-db PostgreSQL instance
   - `SYSTEM_DB_USER`: Username for the system-db PostgreSQL instance
   - `SYSTEM_DB_PASSWORD`: Password for the system-db PostgreSQL instance

## Running the Project

Start all services using Docker Compose:

```bash
docker-compose up
```

This will start the following services:
- **demo-db**: PostgreSQL database for demo data (port 5432)
- **system-db**: PostgreSQL database for system data (port 5444)
- **sat-api**: Backend API service (ports 8070, 8090)
- **sat-ui**: Frontend UI service (port 3000)

### Accessing the Services

- **UI**: [http://localhost:3000](http://localhost:3000)
- **API**: [http://localhost:8070](http://localhost:8070) (main API for external use)
- **API (internal)**: [http://localhost:8090](http://localhost:8090) (API used by UI)
- **Demo DB**: `localhost:5432` (PostgreSQL)
- **System DB**: `localhost:5444` (PostgreSQL)


## Notes

- All services are open by default; no authentication is required for initial access.
- Docker Compose manages service dependencies, but initial startup may require a UI restart as described above.
- For best results, use the latest versions of Docker and Docker Compose.

## AI Usage Disclaimer

This project uses OpenAI's Large Language Model (LLM) to provide AI-powered features. When using these features, the following information is shared with the OpenAI API:

- Data product definitions, including:
  - Table names
  - Column names
  - SQL queries
- Any compliance policies created within the product

**No personal or sensitive data is shared**â€”only technical metadata as described above. Data is sent to OpenAI strictly for processing. Some AI-generated data (such as the name and description fields) will be stored in your system as part of the data product definition.

**Important:**
- Do not include sensitive or confidential information in data product definitions.
- All data sent to the LLM is used solely to provide AI functionality.
- Some data generated by the AI (such as the name and description fields of a data product) will be persisted in the system as part of the data product definition. Avoid including sensitive or confidential information in these fields as well.

## Testing with Satellaite MCP Server

You can test your Satellaite stack using the official [@satellaite/mcp-server](https://www.npmjs.com/package/@satellaite/mcp-server), which implements the Model Context Protocol (MCP) for integration with tools like Claude Desktop.

### Prerequisites
- Node.js and npm installed
- A Satellaite API key (generated in the product; this is separate from other API keys)
- Your Satellaite API (http://localhost:8070) must be accessible to the MCP server

### Running the MCP Server
You can run the MCP server using npx:

```bash
npx -y @satellaite/mcp-server
```

Set the following environment variables when running the server:
- `API_BASE_URL`: The base URL for your Satellaite API (e.g., http://localhost:8070/api/v1)
- `SATELLAITE_API_KEY`: Your Satellaite API key (from the product)

### Using with Claude Desktop
To connect the MCP server to Claude Desktop, add the following to your `claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "satellaite": {
      "command": "npx",
      "args": [
        "-y",
        "@satellaite/mcp-server"
      ],
      "env": {
        "API_BASE_URL": "http://localhost:8070/api/v1",
        "SATELLAITE_API_KEY": "your_satellaite_api_key"
      }
    }
  }
}
```

For more details and advanced usage, see the [@satellaite/mcp-server npm documentation](https://www.npmjs.com/package/@satellaite/mcp-server).

